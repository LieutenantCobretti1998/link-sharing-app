import{c as N,j as e,b as P,a as E,l as f,J as R,S as D,T as F}from"./index-BzrmovQz.js";import{b as B,p as x}from"./BackgroundImages-D-XlPdqd.js";import{h as d,a as I,r as z}from"./ColorsConversion-vBm-ZwjX.js";import{U as $}from"./UseHandleSessionExpired-l32uQQMk.js";import{u as q}from"./useQuery-C7S_tcau.js";import"./utils-D2yItgFG.js";function A(){const{blendedColor:a}=N(i=>i.saveChooses);return e.jsx("div",{className:" w-full h-64 rounded-b-3xl",style:{backgroundColor:a||"#4015f8"}})}function O(){const a=P(),{id:i,username:g}=E(),m=$(),{data:p,isError:G,isLoading:b}=q({queryKey:["ChosenLinks",i,g],queryFn:()=>F(g,i),onError:o=>{o.message==="Session expired. Please log in again."&&m()}}),{linksGroupName:j,links:w,shortDescription:C,linksGroupImage:h,textColor:s,commonColor:l,backgroundColor:n,backgroundImage:u}=p||{},y=o=>{const r=B.find(t=>t.value===o);return r?r.image:null},k=o=>{const r=x.find(t=>t.label===o);return r?r.color:null},v=o=>{const r=x.find(t=>t.label===o);return r?r.icon:null},L=f.useCallback(()=>{const o=d(s),r=d(l),t=d(n),c=I([o,r,t]),S=z(c.r,c.g,c.b);a(R(S))},[s,l,n,a]);return f.useEffect(()=>{s&&l&&n&&s!=="#333333"&&l!=="#D9D9D9"&&n!=="#FFF"&&L()},[s,l,n]),b?e.jsx(D,{}):e.jsxs(e.Fragment,{children:[e.jsx(A,{}),e.jsx("main",{className:"flex bg-light-grey m-2 flex-grow gap-5 font-instrumentNormal justify-center",children:e.jsx("section",{className:"drop-shadow-md relative top-[-120px] rounded-xl h-auto flex flex-col align-center justify-center",style:{backgroundColor:u?"white":n,backgroundImage:`url(${y(u)})`,backgroundSize:"cover",backgroundPosition:"center"},children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"300",height:"585",children:[h?e.jsx("foreignObject",{x:"105",y:"64",width:"96",height:"96",clipPath:"url(#screenClip)",className:"rounded-full border-4",style:{borderColor:l},children:e.jsx("div",{className:"w-full h-full",children:e.jsx("img",{src:h,alt:"Links Group",className:"w-full h-full"})})}):e.jsx("circle",{cx:"153.5",cy:"112",r:"48",fill:l}),e.jsx("rect",{width:"270",height:"20",x:"20",y:"185",fill:l,rx:"8"}),e.jsx("text",{x:"155",y:"195",fill:s,fontSize:"12",textAnchor:"middle",dominantBaseline:"middle",children:j}),e.jsx("rect",{width:"278",height:"30",x:"15",y:"214",fill:l,rx:"4"}),e.jsx("text",{x:"155",y:"230",fill:s,fontSize:"10",textAnchor:"middle",dominantBaseline:"middle",children:C}),w.map((o,r)=>e.jsx("g",{children:e.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:[e.jsx("rect",{width:"237",height:"44",x:"35",y:270+r*64,fill:k(o.label),rx:"8"}),e.jsx("g",{transform:`translate(45, ${284+r*64})`,children:v(o.label)}),e.jsx("text",{x:"70",y:296+r*64,fontSize:"14",fill:"white",children:o.label||`Link #${r+1}`}),e.jsx("g",{transform:`translate(250, ${284+r*64})`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",children:e.jsx("path",{fill:"#fff",d:"M2.667 7.333v1.334h8L7 12.333l.947.947L13.227 8l-5.28-5.28L7 3.667l3.667 3.666h-8Z"})})})]})},o.id))]})})})]})}export{O as default};
