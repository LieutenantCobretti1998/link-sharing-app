import{L as M,j as e,l as m,M as Z,i as D,S as R,P as q,_ as Q,Q as O,b as K,r as J,d as T,e as Y}from"./index-D7ZcxJ6c.js";import{p as C,b as X}from"./BackgroundImages-DQSllxao.js";import{S as ee}from"./ServerError-BEQAxR6W.js";import{B as P,u as se}from"./Button-BdNqCMaf.js";import{U as re}from"./UseHandleSessionExpired-BrClAK78.js";import{U as te}from"./UseWindowSize-BZh8i0ui.js";import{u as ae}from"./useQuery-B3SwOXx4.js";import"./utils-DhmRU0uH.js";const oe="3",g="1";function ne(){let[a,t]=M();const r=o=>{const i=o.target.value.trim();if(i===""){const x=new URLSearchParams(a);x.delete("search"),t(x);return}const h=new URLSearchParams(a);h.set("search",i),h.set("page",g),t(h)};return e.jsxs("aside",{className:"max-xs:self-center max-sm:w-full max-sm:pl-0 w-[45%] h-full gap-10  flex flex-col  bg-white pl-10 pt-10 pb-10 rounded-md border-light-grey",children:[e.jsx("h1",{className:"max-sm:self-center font-bold text-primaryPurple text-2xl",children:"Search"}),e.jsxs("div",{className:"max-sm:self-center",children:[e.jsx("label",{htmlFor:"search"}),e.jsx("input",{onChange:r,className:" border-2  placeholder-gray-400 p-2 rounded-md focus:border-lightPurple1 outline-none",type:"text",id:"search",placeholder:"Search...🔍"})]}),e.jsx("h1",{className:"max-sm:self-center font-bold text-primaryPurple text-2xl",children:"Filter Searching by:"}),e.jsx("h1",{className:"max-sm:text-center",children:"Coming Soon🥲❤️"})]})}const le=a=>{const t=C.find(r=>r.label===a);return t?t.color:null},ie=a=>{const t=X.find(r=>r.value===a);return t?t.image:null},ce=a=>{const t=C.find(r=>r.label===a);return t?t.icon:null};function he({handlePrev:a,handleNext:t,currentPage:r,totalPages:o}){return e.jsxs("div",{className:"max-sm:self-center flex self-end justify-center mt-4",children:[e.jsxs("button",{className:"mr-2 px-4 py-2 bg-gray-200 rounded-md flex items-center gap-3 group",onClick:a,disabled:r===1,children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`ionicon w-7 group ${r!==1&&"hover:cursor-pointer"}`,viewBox:"0 0 512 512",children:[e.jsx("path",{className:`${r!==1&&"group-hover:stroke-primaryPurple3 transition-colors duration-300"}`,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M249.38 336L170 256l79.38-80M181.03 256H342"}),e.jsx("path",{className:`${r!==1&&"group-hover:stroke-primaryPurple3 transition-colors duration-300"}`,d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"})]}),e.jsx("span",{className:r!==1?" transition duration-300 group-hover:text-primaryPurple":"",children:"Previous"})]}),e.jsx("span",{className:"px-4 py-2",children:r}),e.jsxs("button",{className:"ml-2 px-4 py-2 bg-gray-200 rounded-md flex items-center gap-3 group",onClick:t,disabled:r>=o,children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:`ionicon w-7 group ${r<o&&"hover:cursor-pointer"}`,viewBox:"0 0 512 512",width:"20",children:[e.jsx("path",{className:`${r<o&&"group-hover:stroke-primaryPurple3 transition-colors duration-300"}`,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M262.62 336L342 256l-79.38-80M330.97 256H170"}),e.jsx("path",{className:`${r<o&&"group-hover:stroke-primaryPurple3 transition-colors duration-300"}`,d:"M256 448c106 0 192-86 192-192S362 64 256 64 64 150 64 256s86 192 192 192z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"})]}),e.jsx("span",{className:r!==o?"transition duration-300 group-hover:text-primaryPurple":"",children:"Next"})]})]})}function de({deleteLogic:a,setVisibility:t}){const r=()=>{a(),t(!1)},o=()=>{t(!1)};return e.jsx("div",{className:"absolute bg-white bg-opacity-50 w-full h-full flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx("h3",{className:"my-2 text-2xl",children:"Are you sure ?"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(P,{type:"yes",onclick:i=>{i.stopPropagation(),r()},children:"Yes"}),e.jsx(P,{type:"no",onclick:i=>{i.stopPropagation(),o()},children:"No"})]})]})})}function pe(){const[a,t]=m.useState(null),[r,o]=m.useState(null),{width:i}=te(),h=re(),[x,j]=m.useState(!1);let[d,v]=M();const b=parseInt(d.get("page"))||g.toString(),f=d.get("search")||"",E=Z(),w=D(),L=localStorage.getItem("current-profile"),y=L?JSON.parse(L):null,k=y==null?void 0:y.profile_name,{mutate:F,isError:H,isLoading:V}=se({mutationFn:q,onSuccess:s=>{E.invalidateQueries({queryKey:["userLinks"],exact:!1}),Q.success(s.message||"LinksGroup deleted successfully",{duration:3e3,id:"DeleteLinkHomePage"})},onError:s=>{s.message==="Session expired. Please log in again."&&h()}}),{data:l,isError:$,isLoading:I}=ae({queryKey:["userLinks",parseInt(b),f],queryFn:()=>O(b.toString(),f),onSuccess:s=>{const c=Math.ceil(s.total_links/s.per_page),n=parseInt(d.get("page"))||1;n>c&&n!==1&&v({page:(n-1).toString()})},onError:s=>{s.message==="Session expired. Please log in again."&&h()},enabled:!0,keepPreviousData:!0}),N=(l==null?void 0:l.links)||[],p=(l==null?void 0:l.current_page)||g,B=(l==null?void 0:l.per_page)||Number(oe),U=(l==null?void 0:l.total_links)||0,S=Math.ceil(U/B),G=function(){if(p>1){const s=new URLSearchParams(d);f===""&&s.delete("search"),s.set("page",(p-1).toString()),v(s)}},W=function(){if(l&&p<S){const s=new URLSearchParams(d);f===""&&s.delete("search"),s.set("page",(p+1).toString()),v(s)}},z=function(s){w(`${k}/edit-links/${s}`)},A=function(s){F(s)},_=()=>{j(!0)};return I||V?e.jsx(R,{}):$||H?e.jsx(ee,{}):N.length===0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex bg-light-grey items-center flex-col p-10 gap-4 pb-12 rounded-md border-light-grey",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"250",height:"161",fill:"none",viewBox:"0 0 250 161",children:[e.jsx("path",{fill:"#fff",d:"M48.694 15.421C23.379 25.224 4.594 50.068.858 80.128c-3.12 25.331 4.335 53.318 48.23 61.291 85.406 15.52 173.446 17.335 193.864-24.525 20.417-41.86-7.525-108.891-50.873-113.53C157.683-.326 98.146-3.721 48.694 15.42Z",opacity:".3"}),e.jsx("path",{fill:"#333",d:"M157.022 9.567H93.044a7.266 7.266 0 0 0-7.266 7.267v120.91a7.266 7.266 0 0 0 7.266 7.266h63.978a7.266 7.266 0 0 0 7.267-7.266V16.834a7.266 7.266 0 0 0-7.267-7.267Z"}),e.jsx("path",{fill:"#333",d:"M125.033 140.872a5.687 5.687 0 1 0 0-11.374 5.687 5.687 0 0 0 0 11.374Z",opacity:".03"}),e.jsx("path",{fill:"#EFEBFF",d:"M156.628 21.321H93.431V126.78h63.197V21.321Z"}),e.jsx("path",{fill:"#333",d:"M117.797 120.508a2.065 2.065 0 1 0 0-4.13 2.065 2.065 0 0 0 0 4.13Z",opacity:".03"}),e.jsx("path",{fill:"#fff",d:"M125.033 120.508a2.066 2.066 0 1 0 0-4.132 2.066 2.066 0 0 0 0 4.132Z",opacity:".44"}),e.jsx("path",{fill:"#333",d:"M132.269 120.508a2.066 2.066 0 1 0 0-4.132 2.066 2.066 0 0 0 0 4.132ZM148.199 32.953h-46.332v39.552h46.332V32.953ZM134.373 80.129h-32.506v3.621h32.506V80.13ZM148.199 80.129h-11.632v3.621h11.632V80.13ZM117.053 91.237h-15.186v3.622h15.186v-3.622ZM148.199 91.237H120.28v3.622h27.919v-3.622ZM136.954 102.353h-35.087v3.622h35.087v-3.622Z",opacity:".03"}),e.jsx("path",{fill:"#EFEBFF",d:"M78.656 21.321H15.459V126.78h63.197V21.321Z"}),e.jsx("path",{fill:"#fff",d:"M39.825 120.508a2.065 2.065 0 1 0 0-4.13 2.065 2.065 0 0 0 0 4.13Z",opacity:".44"}),e.jsx("path",{fill:"#333",d:"M47.061 120.508a2.065 2.065 0 1 0 0-4.13 2.065 2.065 0 0 0 0 4.13ZM54.297 120.508a2.065 2.065 0 1 0 0-4.13 2.065 2.065 0 0 0 0 4.13ZM70.227 32.953H23.895v39.552h46.332V32.953ZM56.4 80.129H23.895v3.621H56.4V80.13ZM70.227 80.129H58.595v3.621h11.632V80.13ZM39.08 91.237H23.896v3.622H39.08v-3.622ZM70.227 91.237h-27.92v3.622h27.92v-3.622ZM58.982 102.353H23.895v3.622h35.087v-3.622Z",opacity:".03"}),e.jsx("path",{fill:"#EFEBFF",d:"M234.6 21.321h-63.197V126.78H234.6V21.321Z"}),e.jsx("path",{fill:"#333",d:"M195.769 120.508a2.065 2.065 0 1 0 0-4.13 2.065 2.065 0 0 0 0 4.13ZM203.005 120.508a2.066 2.066 0 1 0 0-4.132 2.066 2.066 0 0 0 0 4.132Z",opacity:".03"}),e.jsx("path",{fill:"#fff",d:"M210.242 120.508a2.066 2.066 0 1 0-.001-4.131 2.066 2.066 0 0 0 .001 4.131Z",opacity:".44"}),e.jsx("path",{fill:"#333",d:"M226.171 32.953h-46.332v39.552h46.332V32.953ZM212.345 80.129h-32.506v3.621h32.506V80.13ZM226.171 80.129h-11.632v3.621h11.632V80.13ZM195.025 91.237h-15.186v3.622h15.186v-3.622ZM226.179 91.237H198.26v3.622h27.919v-3.622ZM214.926 102.353h-35.087v3.622h35.087v-3.622Z",opacity:".03"}),e.jsx("path",{fill:"#333",d:"M146.597 145.041c0-.76-1.61-31.891-.577-36.522 1.033-4.632 10.509-27.274 8.011-29.917-2.498-2.642-11.648 3.372-11.648 3.372s1.671-27.267-2.278-29.21c-3.948-1.944-5.702 5.671-5.702 5.671L132.3 88.936l-10.418 55.96 24.715.145Z",opacity:".1"}),e.jsx("path",{fill:"#F4A28C",d:"M139.559 113.295c1.328-5.316 3.325-10.502 4.601-15.87.843-3.553 6.295-18.405 7.821-22.779.47-1.344.873-2.969-.038-4.062a2.646 2.646 0 0 0-2.422-.76 4.842 4.842 0 0 0-2.339 1.223c-1.519 1.337-4.32 7.95-6.371 7.943-2.482 0-1.313-6.834-1.381-8.148-.281-5.656.136-12.908-2.073-18.223-1.64-3.948-5.71-3.417-6.667.85-.957 4.268-.919 22.15-.919 22.15s-15.884-2.727-18.595 2.118c-2.711 4.844 1.868 35.618 1.868 35.618l26.515-.06Z"}),e.jsx("path",{fill:"#633CFF",d:"m141.495 160.5-.289-48.906-29.681-6.515L99.574 160.5h41.921Z"}),e.jsx("path",{fill:"#333",d:"m141.495 160.5-.289-48.906-14.168-3.113-2.536 52.019h16.993Z",opacity:".1"})]}),e.jsx("h2",{className:"font-bold text-lightBlack-1 text-3xl",children:"No Links Found😒"}),e.jsx("p",{className:"text-center w-70%",children:" Use the “Create New Group” button to get started. Once you have more than one link, you can organize and customize them. We're here to help you showcase and share your profiles with ease!"})]})}):e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("section",{className:"max-sm:justify-center w-full h-full flex flex-wrap gap-10 bg-white p-10 rounded-md border-light-grey ",children:N.map((s,c)=>e.jsxs("div",{className:"max-xs:w-[250px] max-sm:w-[200px] w-[270px] card-container relative drop-shadow-md rounded-xl h-auto flex flex-col items-center justify-center",style:{backgroundColor:s.backgroundImage?"white":s.backgroundColor,backgroundImage:`url(${ie(s.backgroundImage)})`,backgroundSize:"cover",backgroundPosition:"center"},onClick:n=>{i<=1280?(n.stopPropagation(),r===c?(w(`/${k}/preview-linksGroup/${s.id}`),o(null)):o(c)):w(`/${k}/preview-linksGroup/${s.id}`)},onMouseEnter:()=>t(c),onMouseLeave:()=>{t(null),o(null),j(!1)},children:[(a===c||r===c)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"delete-icon transition duration-300 hover:bg-primaryPurple flex items-center justify-center",onClick:n=>{n.stopPropagation(),_()},children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ionicon h-6 w-6",viewBox:"0 0 512 512",children:[e.jsx("path",{d:"M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M80 112h352"}),e.jsx("path",{d:"M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"})]})}),e.jsx("div",{className:"edit-icon transition duration-300 hover:bg-primaryPurple flex items-center justify-center",onClick:n=>{n.stopPropagation(),z(s.id)},children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"ionicon h-6 w-6",viewBox:"0 0 512 512",children:[e.jsx("path",{d:"M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),e.jsx("path",{d:"M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z"})]})}),x&&e.jsx(de,{setVisibility:j,deleteLogic:()=>A(s.id)})]}),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 200 300",children:[s.linksGroupImage?e.jsx("foreignObject",{x:"70",y:"20",width:"60",height:"60",clipPath:"url(#screenClip)",className:"rounded-full border-4",style:{borderColor:s.commonColor},children:e.jsx("div",{className:"w-full h-full bg-white",children:e.jsx("img",{src:s.linksGroupImage,alt:"Links Group",className:"w-full h-full"})})}):e.jsx("circle",{cx:"100",cy:"45",r:"30",fill:s.commonColor}),s.links.map((n,u)=>e.jsxs("g",{children:[e.jsx("rect",{width:"160",height:"30",x:"20",y:95+u*40,fill:le(n.label),rx:"8"}),e.jsx("g",{transform:`translate(35, ${100+u*40})`,children:ce(n.label)}),e.jsx("text",{x:"100",y:113+u*40,fontSize:"12",fill:"white",textAnchor:"middle",children:n.label||`Link #${u+1}`}),e.jsx("g",{transform:`translate(165, ${105+u*40})`,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",fill:"none",viewBox:"0 0 16 16",children:e.jsx("path",{fill:"#fff",d:"M2.667 7.333v1.334h8L7 12.333l.947.947L13.227 8l-5.28-5.28L7 3.667l3.667 3.666h-8Z"})})})]},n.id))]}),e.jsxs("div",{className:"text-center mt-4 w-full card-hover-content",children:[e.jsx("h1",{className:"group-name",children:s.linksGroupName}),e.jsx("h2",{className:"category-name text-gray-500",children:s.category})]})]},s.id))}),e.jsx(he,{handleNext:W,handlePrev:G,currentPage:p,totalPages:S})]})}function ye(){const a=K(),t=Z();let[r,o]=M();return m.useEffect(()=>{a(J()),a(T()),a(Y()),t.resetQueries({query:["userLinks"]})},[]),m.useEffect(()=>{if(!r.get("page")){const i=new URLSearchParams(r);i.set("page",g),o(i)}},[r,o]),e.jsxs(e.Fragment,{children:[e.jsx(ne,{}),e.jsx(pe,{})]})}export{ye as default};
