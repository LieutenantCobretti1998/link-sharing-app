import{a0 as c,a1 as b,af as m,aa as h,ag as g,M as x,l as d,j as f}from"./index-BzrmovQz.js";import{u as w,s as v}from"./utils-D2yItgFG.js";class y extends c{constructor(t,r){super(),this.client=t,this.setOptions(r),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const s=this.options;this.options=this.client.defaultMutationOptions(t),b(s,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(r=this.currentMutation)==null||r.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.currentMutation)==null||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();const r={listeners:!0};t.type==="success"?r.onSuccess=!0:t.type==="error"&&(r.onError=!0),this.notify(r)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,r){return this.mutateOptions=r,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof t<"u"?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:m(),r={...t,isLoading:t.status==="loading",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=r}notify(t){h.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(t.onSuccess){var r,s,o,n;(r=(s=this.mutateOptions).onSuccess)==null||r.call(s,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(o=(n=this.mutateOptions).onSettled)==null||o.call(n,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(t.onError){var e,a,i,l;(e=(a=this.mutateOptions).onError)==null||e.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(i=(l=this.mutateOptions).onSettled)==null||i.call(l,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}t.listeners&&this.listeners.forEach(({listener:p})=>{p(this.currentResult)})})}}function M(u,t,r){const s=g(u,t),o=x({context:s.context}),[n]=d.useState(()=>new y(o,s));d.useEffect(()=>{n.setOptions(s)},[n,s]);const e=w(d.useCallback(i=>n.subscribe(h.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=d.useCallback((i,l)=>{n.mutate(i,l).catch(P)},[n]);if(e.error&&v(n.options.useErrorBoundary,[e.error]))throw e.error;return{...e,mutate:a,mutateAsync:e.mutate}}function P(){}function E({type:u,children:t,isActive:r,onclick:s,disabled:o,typeForm:n}){let e;switch(u){case"backToEditor":e="max-xs:p-1 sm:w-40 border-[.5px] border-primaryPurple h-9 p-1 rounded-md text-primaryPurple font-bold hover:bg-lightPurple2 transition duration-300 ease-in-out";break;case"home":e=o?"cursor-default":"cursor-pointer";break;case"home-preview":e="max-xs:w-28 sm:w-40 h-9 p-0 border-[.5px] border-primaryPurple rounded-md text-white font-bold bg-primaryPurple hover:bg-primaryPurple3 transition duration-300 ease-in-out";break;case"header":e="max-xs:w-[1.8rem] sm:border-primaryPurple sm:border-[.5px] max-sm:w-15 w-40 h-9 p-0 sm:hover:bg-lightPurple2 rounded-md text-primaryPurple font-bold transition duration-300 ease-in-out";break;case"main":e=o?"w-full h-9 p-0 border-[.5px] border-gray-300 rounded-md text-gray-300 font-bold cursor-not-allowed transition duration-300 ease-in-out":"w-full h-9 p-0 border-[.5px] border-primaryPurple rounded-md text-primaryPurple font-bold hover:bg-lightPurple2 cursor-pointer transition duration-300 ease-in-out";break;case"addLink":e=o?"w-full h-9 p-0 border-[.5px] border-gray-300 rounded-md text-gray-300 font-bold cursor-not-allowed transition duration-300 ease-in-out":"w-full h-9 p-0 border-[.5px] border-primaryPurple rounded-md text-primaryPurple font-bold hover:bg-lightPurple2 transition duration-300 ease-in-out";break;case"login":e=o?"mt-6 p-2 w-full h-auto hover:bg-primaryPurple cursor-not-allowed rounded-md text-white bg-lightPurple1 font-regular transition duration-300 ease-in-out":"mt-6 p-2 w-full h-auto hover:bg-primaryPurple rounded-md text-white bg-lightPurple1 font-regular transition duration-300 ease-in-out";break;case"logout":e=o?"mt-6 p-2 w-[75px] h-auto hover:bg-dark-red rounded-md text-white bg-red font-regular transition duration-300 ease-in-out pointer-events-none cursor-not-allowed":"mt-6 p-2 w-[75px] h-auto hover:bg-dark-red rounded-md text-white bg-red font-regular transition duration-300 ease-in-out";break;case"save":e=o?"max-sm:w-full w-24 h-9 p-0 border-[.5px] border-gray-300 rounded-md text-gray-300 font-bold pointer-events-none cursor-not-allowed transition duration-300 ease-in-out":"max-sm:w-full w-24 h-9 p-0 hover:bg-primaryPurple rounded-md text-white bg-lightPurple1 font-regular transition duration-300 ease-in-out";break;case"yes":e=o?"w-24 h-9 p-0 border-[.5px] border-gray-300 rounded-md text-gray-300 font-bold pointer-events-none cursor-not-allowed transition duration-300 ease-in-out":"w-24 h-9 p-0 hover:bg-primaryPurple rounded-md text-white bg-lightPurple1 font-regular transition duration-300 ease-in-out";break;case"no":e=o?"w-24 h-9 p-0 border-[.5px] border-gray-300 rounded-md text-gray-300 font-bold pointer-events-none cursor-not-allowed transition duration-300 ease-in-out":"w-24 h-9 p-0 hover:bg-primaryPurple rounded-md text-white bg-lightPurple1 font-regular transition duration-300 ease-in-out";break;case"links":e=r?"bg-lightPurple2 rounded-md pointer-events-none":"hover:bg-lightPurple2 hover:border-lightPurple2 rounded-md transition duration-300";break;case"shareLink":e="max-xs:w-28 w-40 h-9 p-0 border-[.5px] border-primaryPurple rounded-md text-white font-bold bg-primaryPurple hover:bg-primaryPurple3 transition duration-300 ease-in-out";break;case"update":e=o?"mt-6 p-2 w-[75px] h-auto hover:bg-successGreenDark rounded-md text-white bg-successGreen font-regular transition duration-300 ease-in-out pointer-events-none cursor-not-allowed":"mt-6 p-2 w-[75px] h-auto hover:bg-successGreenDark rounded-md text-white bg-successGreen font-regular transition duration-300 ease-in-out";break;case"delete":e=o?"mt-6 p-2 w-[75px] h-auto hover:bg-dark-red rounded-md text-white bg-red font-regular transition duration-300 ease-in-out pointer-events-none cursor-not-allowed":"mt-6 p-2 w-[75px] h-auto hover:bg-dark-red rounded-md text-white bg-red font-regular transition duration-300 ease-in-out";break;case"change-profile":e=o?"mt-6 p-2 w-[150px] h-auto hover:bg-primaryPurple cursor-not-allowed rounded-md text-white bg-lightPurple1 font-regular transition duration-300 ease-in-out":"mt-6 p-2 w-[150px] h-auto h-auto hover:bg-primaryPurple rounded-md text-white bg-lightPurple1 font-regular transition duration-300 ease-in-out";break}return f.jsx("button",{type:n?"submit":"button",disabled:o,onClick:s,className:e,children:t})}export{E as B,M as u};
